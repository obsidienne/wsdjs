<%= if is_nil(@current_user) do %>
  <div class="pt-8 container">
    <span class="h1 ">World Swing DeeJays</span>
    <span class="h2 block">The best West Coast Swing music from all around the world !</span>

    <%= link to: Routes.session_path(@conn, :new) do %>
      <div class="glnav__user__signin--container btn btn-primary tippy" title="You can register and sign in with this link">Sign in</div>
    <% end %>
    or 
    <%= link "register", to: Routes.registration_path(@conn, :new), class: "inline-block visible-link clickable" %>
  </div>
<% end %>

<section class="container pt-8">
<%= if Enum.count(@songs) > 0 do %>
  <section>
    <h2 class="page-header">#trends</h2>
    <%# 
    XS: 1 REM, 8.5 REM
    SM: 2 REM, 10 REM
    MD: 2 REM, 9.75REM
    Lg: 2.5rem, 10rem
    xl: 
    %>
    <ul class="list-reset grid overflow-x-hidden grid-overflow">
      <%= render_many @songs, WsdjsWeb.HomeView, "_song_minicard.html", conn: @conn, as: :song, current_user: @current_user %>
    </ul>
  </section>
<% end %>

<%= if @top && Enum.count(@top.ranks) > 0 do %>
  <section>
    <h2 class="page-header">
      <time class="date-format" datetime="<%= Date.to_iso8601(@top.due_date) %>">
          <%= Timex.format!(@top.due_date, "%B %Y", :strftime) %>
      </time>, DJs Top
    </h2>
    <ul class="list-reset grid overflow-x-hidden grid-overflow">
      <%= for rank <- @top.ranks do %>
        <%= render "_song.html", conn: @conn, rank: rank, current_user: @current_user %>
      <% end %>
    </ul>
  </section>
<% end %>
</section>
